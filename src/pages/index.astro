---
import { concursantesData } from '../data/concursantes';
import ConcursanteCard from '../components/ConcursanteCard.astro';
import ModalWrapper from '../components/ModalWrapper.jsx';
import ResetButton from '../components/ResetButton.jsx';
import ScoreDisplay from '../components/ScoreDisplay.jsx';
import ExpelledToggle from '../components/ExpelledToggle.astro';
import '../styles/global.css';
---

<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OT Votaciones</title>
  </head>

  <body class="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-slate-100">
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 lg:pr-80">
      <!-- Header -->
      <header class="mb-12 text-center">
        <h1 class="text-4xl sm:text-5xl lg:text-6xl font-black tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-fuchsia-400 to-cyan-400 drop-shadow">
          OT Votaciones
        </h1>
        <p class="mt-3 text-slate-400 text-sm sm:text-base">Vota a tu concursante favorito</p>
      </header>

      <!-- Actions -->
      <section class="mb-10 flex flex-col sm:flex-row items-center justify-center gap-4">
        <ResetButton client:load />
        <ExpelledToggle />
      </section>

      <!-- Grid -->
      <section
        class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 auto-rows-auto"
        style="grid-auto-flow: dense;"
      >
        {concursantesData.map((concursante) => (
          <div data-estado={concursante.estado} class="group">
            <ModalWrapper client:load concursante={concursante}>
              <ConcursanteCard
                id={concursante.id}
                nombre={concursante.nombre}
                estado={concursante.estado}
                imagen={concursante.imagen}
              />
            </ModalWrapper>
          </div>
        ))}
      </section>
    </main>

    <!-- Sidebar -->
    <aside class="fixed top-4 right-4 z-50 lg:block">
      <ScoreDisplay client:load />
    </aside>
  </body>
</html>