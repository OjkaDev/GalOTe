---
import ConcursanteScoreDisplay from "./ConcursanteScoreDisplay";

const { nombre, estado, imagen, id } = Astro.props;

let ringColor = 'ring-transparent';
let statusBg = 'bg-indigo-500';
let statusText = 'Activo';

if (estado === 'nominado') {
  ringColor = 'ring-4 ring-amber-400/50';
  statusBg = 'bg-amber-500';
  statusText = 'Nominado';
} else if (estado === 'expulsado') {
  ringColor = 'ring-4 ring-rose-400/50';
  statusBg = 'bg-rose-600';
  statusText = 'Expulsado';
}
---

<article
  class={`relative
    bg-slate-800/60 backdrop-blur-xl border border-slate-700 rounded-2xl overflow-hidden
    shadow-2xl shadow-purple-900/20
    hover:scale-[1.03] hover:shadow-purple-500/40
    transition-all duration-300
    before:pointer-events-none before:absolute before:inset-0 before:rounded-2xl
    before:bg-gradient-to-br before:from-white/5 before:to-transparent before:opacity-0
    hover:before:opacity-100 before:transition-opacity before:duration-300
    ${ringColor}`}
  data-estado={estado}
>
  <div class="relative">
    <img
      src={imagen}
      alt={`Foto de ${nombre}`}
      width="400"
      height="400"
      class="w-full h-auto object-cover rounded-xl shadow-lg shadow-black/30"
    />
    <span class={`absolute top-3 right-3 text-xs font-bold px-3 py-1 rounded-full text-white ${statusBg}`}>
      {statusText}
    </span>
  </div>

  <div class="p-5">
    <h2 class="text-2xl font-black bg-clip-text text-transparent bg-gradient-to-r from-fuchsia-400 to-cyan-400 text-center">
      {nombre}
    </h2>
    <ConcursanteScoreDisplay client:load concursanteId={id} />
  </div>
</article>